<div class="row">
    <div class="col-lg-12">
        <div class="page-header">
            <h1><span>{{ pCtrl.title }}</span></h1>
        </div>
    </div>
</div>
<div class="row">
    <form name="userForm" class="col-lg-12 form-horizontal" ng-submit="pCtrl.save()" novalidate>
        <div>
            <div class="form-field" ng-class="{ 'has-error' : userForm.name.$invalid && !userForm.name.$pristine }">
                <label for="name" class="col-sm-2 control-label">Nome</label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <input type="text" ng-model="pCtrl.name" id="name" name="name" class="form-control" ng-maxlength="200" maxlength="200" required>
                </div>
            </div>
        </div>
        <div>
            <div class="form-field" ng-class="{ 'has-error' : userForm.description.$invalid && !userForm.description.$pristine }">
                <label for="description" class="col-sm-2 control-label">Descrição</label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <textarea id="description" name="description" class="form-control" ng-model="pCtrl.description" maxlength="5000" required></textarea>
                </div>
            </div>
        </div>
        <div>
            <div class="form-field" ng-class="{ 'has-error' : userForm.category.$invalid && !userForm.category.$pristine }">
                <label for="category" class="col-sm-2 control-label">Category</label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <select name="category" id="category" ng-model="pCtrl.categoryId" ng-options="category.CATEGORY_ID as (category.CATEGORY_DESCRIPTION) for category in pCtrl.categories"
                        required>
                        <option></option>
                    </select>
                </div>
            </div>
        </div>
        <div>
            <div class="form-field" ng-class="{ 'has-error' : userForm.coverImage.$invalid && !userForm.coverImage.$pristine }">
                <label for="coverImage" class="col-sm-2 control-label">Capa</label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <input type="text" id="coverImage" name="coverImage" disabled class="form-control col-md-3" ng-model="pCtrl.coverImage.name"
                        required/>
                    <a class="btn btn-default" ngf-select="" class="form-group" ng-model="pCtrl.coverImage" ngf-accept="'image/*'">Importar</a>
                </div>
            </div>
        </div>
        <div>
            <div class="form-field">
                <label for="imagens" class="col-sm-2 control-label">Imagens</label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <a class="btn btn-default" class="form-group" ngf-select="pCtrl.uploadFiles($files)" ng-disabled="pCtrl.isLoading" multiple ngf-accept="'image/*'">Importar</a>
                </div>
            </div>
        </div>
        <div>
            <div class="form-field">
                <label for="imagens" class="col-sm-2 control-label"></label>
                <div class="ng-admin-type-string col-sm-10 col-md-8 col-lg-7 form-group">
                    <input style="display:none" name="imagens" type="number" min=1 ng-model="pCtrl.imagens.length" />
                    <div class="imageWrap" ng-repeat="imagem in pCtrl.imagens">
                        <img ng-src="{{imagem}}" alt="{{imagem}}"/>
                        <a class="btn btn-default" ng-click="pCtrl.removeImage(imagem)">Excluir</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary" ng-disabled=!userForm.$valid>Salvar</button>
            </div>
        </div>
    </form>
</div>